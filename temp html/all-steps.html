
<!-- saved from url=(0057)http://net.pommepause.com/network_troubleshooter/?print=1 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></head><body><form method="post" action="">
Step 1: Your HDA IP address is <strong>sadfsda</strong><br>Step 2: Your HDA domain name is <strong>asdffdsa</strong><br>Step 3: Your router IP address is <strong>asdffdas</strong><br><h2>Step 4 - DNS resolving for internal hostnames</h2>For the next questions, unless you have internet access working on your HDA, you should SSH into your HDA from another computer, to copy and paste commands and results when needed.<br>
You can read instructions on how to SSH into your HDA <a href="http://wiki.amahi.org/index.php/SSHtoHDA">here</a>.
<hr>
Execute the following command on the HDA itself, using either SSH, or a Terminal:
<pre>nslookup hda</pre>
Does it result in something like this (verify the parts in <strong style="color:red">red</strong>):
<pre>Server:		<strong style="color:red">sadfsda</strong>
Address:	sadfsda#53

Name:	<strong style="color:red">hda.asdffdsa</strong>
Address: <strong style="color:red">sadfsda</strong>
</pre><br><input type="radio" id="q_yes" name="answer" value="1"><label for="q_yes">Yes</label><br><input type="radio" id="q_no" name="answer" value="0"><label for="q_no">No</label><h2>Step 5 - Router is reachable?</h2>Execute the following command on the HDA itself, using either SSH, or a Terminal:
<pre>ping -c 1 router</pre>
Does it result in something like this (verify the parts in <strong style="color:red">red</strong>):
<pre>PING <strong style="color:red">router.asdffdsa</strong> (<strong style="color:red">asdffdas</strong>) 56(84) bytes of data.
64 bytes from router.asdffdsa (<strong style="color:red">asdffdas</strong>): icmp_seq=1 ttl=xxx time=0.xxx ms

--- router.asdffdsa ping statistics ---
1 packets transmitted, <strong style="color:red">1 received, 0% packet loss</strong>, time 1ms
rtt min/avg/max/mdev = 0.xxx/0.xxx/0.xxx/0.000 ms
</pre><br><input type="radio" id="q_yes" name="answer" value="1"><label for="q_yes">Yes</label><br><input type="radio" id="q_no" name="answer" value="0"><label for="q_no">No</label><h2>Step 6 - Internet reachable?</h2>Execute the following command on the HDA itself, using either SSH, or a Terminal:
<pre>ping -c 1 8.8.8.8</pre>
Does it result in something like this (verify the parts in <strong style="color:red">red</strong>):
<pre>PING <strong style="color:red">8.8.8.8</strong> (<strong style="color:red">8.8.8.8</strong>) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_seq=1 ttl=xxx time=x.xxx ms

--- 8.8.8.8 ping statistics ---
1 packets transmitted, <strong style="color:red">1 received, 0% packet loss</strong>, time 1ms
rtt min/avg/max/mdev = x.xxx/x.xxx/x.xxx/0.000 ms
</pre><br><input type="radio" id="q_yes" name="answer" value="1"><label for="q_yes">Yes</label><br><input type="radio" id="q_no" name="answer" value="0"><label for="q_no">No</label><h2>Step 7 - DNS resolving for external hostnames</h2>Execute the following command on the HDA itself, using either SSH, or a Terminal:
<pre>ping -c 1 amahi.org</pre>
Does it result in something like this (verify the parts in <strong style="color:red">red</strong>):
<pre>PING <strong style="color:red">amahi.org</strong> (<strong style="color:red">208.115.201.195</strong>) 56(84) bytes of data.
64 bytes from mail.amahi.org (208.115.201.195): icmp_seq=1 ttl=xxx time=x.xxx ms

--- amahi.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 1ms
rtt min/avg/max/mdev = x.xxx/x.xxx/x.xxx/0.000 ms
</pre><br><input type="radio" id="q_yes" name="answer" value="1"><label for="q_yes">Yes</label><br><input type="radio" id="q_no" name="answer" value="0"><label for="q_no">No</label><h2>Step 8 - HDA Dashboard accessible?</h2>Execute the following command on the HDA itself, using either SSH, or a Terminal:
<pre>curl http://hda</pre>
Does it result in this:
<pre>&lt;html&gt;&lt;body&gt;You are being &lt;a href="http://hda/user_sessions/new"&gt;redirected&lt;/a&gt;.&lt;/body&gt;&lt;/html&gt;
</pre><br><input type="radio" id="q_yes" name="answer" value="1"><label for="q_yes">Yes</label><br><input type="radio" id="q_no" name="answer" value="0"><label for="q_no">No</label><h2>Step 9 - HDA used as DNS on clients?</h2>After having deactivated the DHCP on your router, you'll need to <a href="http://wiki.amahi.org/index.php/RenewIP" target="_new">renew the IP address</a> of a client computer you'll use for the rest of the tests.<br>
Once that's done, execute the following command on that client computer, using either a command prompt, or a Terminal:
<pre>nslookup hda.asdffdsa</pre>
Does it result in something like this (verify the parts in <strong style="color:red">red</strong>):
<pre>Server:		sadfsda
Address:	<strong style="color:red">sadfsda</strong>#53

Name:	<strong style="color:red">hda.asdffdsa</strong>
Address: <strong style="color:red">sadfsda</strong>
</pre><br><input type="radio" id="q_yes" name="answer" value="1"><label for="q_yes">Yes</label><br><input type="radio" id="q_no" name="answer" value="0"><label for="q_no">No</label><h2>Step 10 - Correct domain on clients?</h2>Execute the following command on the client computer, using either a command prompt, or a Terminal:
<pre>nslookup hda</pre>
Does it result in something like this (verify the part in <strong style="color:red">red</strong>):
<pre>Server:		sadfsda
Address:	sadfsda#53

Name:	<strong style="color:red">hda.asdffdsa</strong>
Address: <strong style="color:red">sadfsda</strong>
</pre><br><input type="radio" id="q_yes" name="answer" value="1"><label for="q_yes">Yes</label><br><input type="radio" id="q_no" name="answer" value="0"><label for="q_no">No</label><h2>Step 11 - Router is reachable from clients?</h2>Execute the following command on the client computer, using either a command prompt, or a Terminal:<br><br>
On Windows:
<pre>ping -n 1 router</pre>
On Mac OS X or Linux:
<pre>ping -c 1 router</pre>
Does it result in something like this (verify the parts in <strong style="color:red">red</strong>):
<pre>PING <strong style="color:red">router.asdffdsa</strong> (<strong style="color:red">asdffdas</strong>) 56(84) bytes of data.
64 bytes from router.asdffdsa (<strong style="color:red">asdffdas</strong>): icmp_seq=1 ttl=xxx time=0.xxx ms

--- router.asdffdsa ping statistics ---
1 packets transmitted, <strong style="color:red">1 received, 0% packet loss</strong>, time 1ms
rtt min/avg/max/mdev = 0.xxx/0.xxx/0.xxx/0.000 ms
</pre><br><input type="radio" id="q_yes" name="answer" value="1"><label for="q_yes">Yes</label><br><input type="radio" id="q_no" name="answer" value="0"><label for="q_no">No</label><h2>Step 12 - Internet reachable from clients?</h2>Execute the following command on the client computer, using either a command prompt, or a Terminal:<br><br>
On Windows:
<pre>ping -n 1 8.8.8.8
</pre>

On Mac OS X or Linux:
<pre>ping -c 1 8.8.8.8
</pre>
		
Does it result in something like this (verify the parts in <strong style="color:red">red</strong>):
<pre>PING <strong style="color:red">8.8.8.8</strong> (<strong style="color:red">8.8.8.8</strong>) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_seq=1 ttl=xxx time=x.xxx ms

--- 8.8.8.8 ping statistics ---
1 packets transmitted, <strong style="color:red">1 received, 0% packet loss</strong>, time 1ms
rtt min/avg/max/mdev = x.xxx/x.xxx/x.xxx/0.000 ms
</pre><br><input type="radio" id="q_yes" name="answer" value="1"><label for="q_yes">Yes</label><br><input type="radio" id="q_no" name="answer" value="0"><label for="q_no">No</label><h2>Step 13 - DNS resolving for external hostnames on clients</h2>Execute the following command on the client computer, using either a command prompt, or a Terminal:<br><br>
On Windows:
<pre>ping -n 1 amahi.org
</pre>

On Mac OS X or Linux:
<pre>ping -c 1 amahi.org
</pre>
		
Does it result in something like this (verify the parts in <strong style="color:red">red</strong>):
<pre>PING <strong style="color:red">amahi.org</strong> (<strong style="color:red">208.115.201.195</strong>) 56(84) bytes of data.
64 bytes from mail.amahi.org (208.115.201.195): icmp_seq=1 ttl=xxx time=x.xxx ms

--- amahi.org ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 1ms
rtt min/avg/max/mdev = x.xxx/x.xxx/x.xxx/0.000 ms
</pre><br><input type="radio" id="q_yes" name="answer" value="1"><label for="q_yes">Yes</label><br><input type="radio" id="q_no" name="answer" value="0"><label for="q_no">No</label><hr><h2>Troubleshooting</h2><div>If you answered No to any of the previous questions, refer to the troubleshooting steps below.<br>Paste the results to the commands you'll execute on <a href="http://paste.amahi.org/">http://paste.amahi.org</a>, then post the URL you received there in either <a href="http://talk.amahi.org/" target="_new">IRC</a>, or the <a href="http://forums.amahi.org/" target="_new">forums</a>.</div><h2>Troubleshooting for Step 4 - DNS resolving for internal hostnames</h2>Execute the following commands on the HDA itself, using either SSH, or a Terminal:
<pre>su -
  (enter the root password)
nslookup hda
cat /etc/resolv.conf
ifconfig | grep -A 5 eth0 | grep inet
service named status
cat /etc/named.conf
netstat -an | grep :53
cat /var/named/dynamic/hda-n2a.conf
cat /var/named/dynamic/hda-a2n.conf
</pre>
<br><h2>Troubleshooting for Step 5 - Router is reachable?</h2>If you have multiple network adapters on your server (maybe an onboard, and a PCI), make sure the cable is plugged in the correct adapter. If you're using Amahi, it needs to be plugged in the adapter identified as eth0. Trying to plug the cable in the other adapter, then retrying the last test, wouldn't hurt!<br><br>If the above doesn't help, execute the following commands on the HDA itself, using either SSH, or a Terminal:
<pre>netstat -nr
arp -a
traceroute -q 1 -m 5 router
</pre>
<br><h2>Troubleshooting for Step 6 - Internet reachable?</h2>Execute the following commands on the HDA itself, using either SSH, or a Terminal:
<pre>netstat -nr
traceroute -q 1 8.8.8.8
</pre>
<br><h2>Troubleshooting for Step 7 - DNS resolving for external hostnames</h2>Execute the following commands on the HDA itself, using either SSH, or a Terminal:
<pre>su -
  (enter the root password)
service named status
cat /etc/named.conf
nslookup amahi.org
nslookup amahi.org 208.67.222.222
traceroute -q 1 208.67.222.222
</pre>
<br><h2>Troubleshooting for Step 8 - HDA Dashboard accessible?</h2>Execute the following commands on the HDA itself, using either SSH, or a Terminal:
<pre>su -
  (enter the root password)
service httpd status
curl -s -i http://hda | head -100
tail -20 /var/hda/platform/logs/error_log
tail -20 /var/hda/platform/logs/access_log
date
</pre>
<br><h2>Troubleshooting for Step 9 - HDA used as DNS on clients?</h2>Make sure that the DHCP server is disabled on your router, that there is no other DHCP server on your network (another router or Access Point maybe?), and that you correctly <a href="http://wiki.amahi.org/index.php/RenewIP" target="_new">renewed your IP addess</a>.<br><br>
If you can't stop using another DHCP server, you'll need to set the DNS server of your client computer to <strong style="color:red">sadfsda</strong><br><br>
Still having issues? Execute the following command on the client computer, using either a command prompt, or a Terminal:
<pre>nslookup hda.home.com</pre>
<br><h2>Troubleshooting for Step 10 - Correct domain on clients?</h2>Make sure that the DHCP server is disabled on your router, that there is no other DHCP server on your network (another router or Access Point maybe?), and that you correctly <a href="http://wiki.amahi.org/index.php/RenewIP" target="_new">renewed your IP addess</a>.<br>
If you can't stop using another DHCP server, you'll need to set the domain name of your client computer to <strong style="color:red">asdffdsa</strong><br><h2>Troubleshooting for Step 11 - Router is reachable from clients?</h2>Execute the following commands on the client computer, using either a command prompt, or a Terminal:<br><br>
On Windows:
<pre>route print
arp -a
tracert -h 5 router
</pre>

On Mac OS X or Linux:
<pre>netstat -nr
arp -a
traceroute -q 1 -m 5 router
</pre>

<br><h2>Troubleshooting for Step 12 - Internet reachable from clients?</h2>Execute the following commands on the client computer, using either a command prompt, or a Terminal:<br><br>
On Windows:
<pre>route print
tracert 8.8.8.8
</pre>

On Mac OS X or Linux:
<pre>netstat -nr
traceroute -q 1 8.8.8.8
</pre>

<br><h2>Troubleshooting for Step 13 - DNS resolving for external hostnames on clients</h2>Execute the following command on the client computer, using either a command prompt, or a Terminal:
<pre>nslookup amahi.org
</pre>
<br></form></body></html>